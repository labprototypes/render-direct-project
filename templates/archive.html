{% extends "base_app.html" %}

{% block title %}Archive{% endblock %}

{% block mode_selector %}{% endblock %} 

{% block content %}
<div class="app-container" style="display: flex; flex-direction: column; align-items: stretch;">
    <h1 style="font-size: 2.5rem; font-weight: 700; letter-spacing: -1px; margin-bottom: 40px; text-align: center; flex-shrink: 0;">Generations Archive</h1>
    
    {% if predictions %}
        <div class="archive-grid">
            {# FIX: Loop through predictions to create grid items with download icons #}
            {% for prediction in predictions %}
                <div class="archive-item" title="Created on {{ prediction.created_at.strftime('%Y-%m-%d %H:%M') }}">
                    <img src="{{ prediction.output_url }}" alt="Generated image" loading="lazy">
                    <a href="{{ prediction.output_url }}" class="download-action-link" download target="_blank" rel="noopener noreferrer">
                        <img src="{{ url_for('static', filename='images/Download.png') }}" alt="Download" class="download-button-icon">
                    </a>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="archive-placeholder-wrapper">
            <div class="archive-placeholder">
                <p>You don't have any generations yet. Go create something amazing!</p>
            </div>
        </div>
    {% endif %}
</div>
{% endblock %}

{% block page_scripts %}
<script>
// Скрипты с главной страницы здесь не нужны, но блок оставляем на случай будущего расширения.
document.addEventListener('DOMContentLoaded', () => {
    // Код для этой страницы, если понадобится
});
</script>
{% endblock %}
