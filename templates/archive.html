{% extends "base_app.html" %}

{% block title %}Archive{% endblock %}

{% block mode_selector %}{% endblock %} 

{% block content %}
<div class="app-container" style="display: flex; flex-direction: column; align-items: stretch;">
    {# FIX: Removed text-align: center to align the heading to the left #}
    <h1 style="font-size: 2.5rem; font-weight: 700; letter-spacing: -1px; margin-bottom: 40px; flex-shrink: 0;">Generations Archive</h1>
    
    {% if predictions %}
        <div class="archive-grid">
            {% for prediction in predictions %}
                <div class="archive-item" title="Created on {{ prediction.created_at.strftime('%Y-%m-%d %H:%M') }}">
                    <img src="{{ prediction.output_url }}" alt="Generated image" loading="lazy">
                    <a href="{{ prediction.output_url }}" class="download-action-link" download target="_blank" rel="noopener noreferrer">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                            <polyline points="7 10 12 15 17 10"></polyline>
                            <line x1="12" y1="15" x2="12" y2="3"></line>
                        </svg>
                    </a>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="archive-placeholder-wrapper">
            <div class="archive-placeholder">
                <p>You don't have any generations yet. Go create something amazing!</p>
            </div>
        </div>
    {% endif %}
</div>
{% endblock %}

{% block page_scripts %}
<script>
// Скрипты с главной страницы здесь не нужны, но блок оставляем на случай будущего расширения.
document.addEventListener('DOMContentLoaded', () => {
    // Код для этой страницы, если понадобится
});
</script>
{% endblock %}
