{% extends "base_security.html" %}
{% from "security/_macros.html" import render_error_messages, render_form_errors %}

{% block title %}Вход - Changer AI{% endblock %}

{% block content %}
    <h2>Вход</h2>
    {{ render_form_errors(login_user_form) }}
    <form action="{{ url_for_security('login') }}" method="POST" name="login_user_form">
        {{ login_user_form.hidden_tag() }}

        <div class="form-group {% if login_user_form.email.errors %}has-errors{% endif %}">
            {{ login_user_form.email(placeholder="Email или имя пользователя", class="form-control") }}
            {{ render_error_messages(login_user_form.email) }}
        </div>
        
        <div class="form-group {% if login_user_form.password.errors %}has-errors{% endif %}">
            {{ login_user_form.password(placeholder="Пароль", class="form-control") }}
            {{ render_error_messages(login_user_form.password) }}
        </div>
        
        {% if login_user_form.remember.label %}
            <div style="margin: 10px 0; font-size: 0.9rem; text-align: left; color: var(--text-main-color);">
                {{ login_user_form.remember(style="margin-right: 5px; vertical-align: middle;") }}
                <label for="remember" style="display:inline; font-weight:normal;">{{ login_user_form.remember.label.text }}</label>
            </div>
        {% endif %}
        
        {{ login_user_form.submit(class="btn", value="Войти") }}
    </form>
    
    <ul>
        <li><a href="{{ url_for_security('register') }}{% if 'next' in request.args %}?next={{ request.args.next|urlencode }}{% endif %}">Создать аккаунт</a></li>
        <li><a href="{{ url_for_security('forgot_password') }}">Забыли пароль?</a></li>
    </ul>
{% endblock %}
